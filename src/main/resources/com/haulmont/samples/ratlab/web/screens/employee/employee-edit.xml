<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd"
        xmlns:dynattrui="http://jmix.io/schema/dynattr/ui"
        caption="msg://employeeEdit.caption"
        focusComponent="form"
        messagesPack="com.haulmont.samples.ratlab.web.screens.employee">
    <facets>
        <dynattrui:dynamicAttributes/>
    </facets>
    <data>
        <instance id="employeeDc"
                  class="com.haulmont.samples.ratlab.entity.stuff.Employee">
            <view extends="_local">
                <property name="homeAddress"/>
                <property name="supervisor" view="_minimal"/>
            </view>
            <instance id="addressDc" property="homeAddress"/>
            <loader dynamicAttributes="true"/>
        </instance>
        <collection id="supervisorsDc"
                    class="com.haulmont.samples.ratlab.entity.stuff.Employee">
            <view extends="_base"/>
            <loader id="supervisorsDl" dynamicAttributes="true">
                <query>
                    <![CDATA[select e from ratlab_Employee e]]>
                </query>
            </loader>
        </collection>

    </data>

    <dialogMode height="600"
                width="800"/>
    <layout expand="editActions" spacing="true">
        <hbox spacing="true">
            <groupBox caption="msg://general">
                <form id="form" dataContainer="employeeDc">
                    <column width="350px">
                        <textField id="nameField" property="name"/>
                        <lookupField id="positionField" property="position"/>
                        <textField id="experienceField" property="experience"/>
                        <dateField id="sinceField" property="since"/>
                        <lookupField property="supervisor" optionsContainer="supervisorsDc"/>
                    </column>
                </form>
            </groupBox>
            <groupBox caption="msg://homeAddress.caption">
                <fragment screen="ratlab_AddressFragment"/>
            </groupBox>
        </hbox>
        <hbox id="editActions" spacing="true">
            <button id="commitAndCloseBtn" action="windowCommitAndClose"/>
            <button id="closeBtn" action="windowClose"/>
        </hbox>
    </layout>
</window>
